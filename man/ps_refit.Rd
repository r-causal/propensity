% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ps_trim.R
\name{ps_refit}
\alias{ps_refit}
\title{Refit the PS Model on Retained Observations}
\usage{
ps_refit(ps_trim_obj, model, data = NULL, ...)
}
\arguments{
\item{ps_trim_obj}{A \code{ps_trim} object (same length as data, NAs for trimmed).}

\item{model}{The fitted model used to get the original PS (e.g. a glm).}

\item{data}{Optional. A data frame. If \code{NULL}, we try to retrieve from \code{model}.}

\item{...}{Additional arguments passed to \code{update()}.}
}
\value{
A new \code{ps_trim} object with updated propensity scores and
\code{ps_trim_meta(x)$refit} set to \code{TRUE}.
}
\description{
Takes a \code{ps_trim} object (with \code{NA} where trimmed) and the original model
used to get the PS, then:
\enumerate{
\item Retrieves data from the model (or from \code{data} argument if provided)
\item Subsets rows to the non‐trimmed indices
\item Refits the model
\item Predicts new propensity scores for all rows (trimmed rows -> NA)
\item Returns a new \code{ps_trim} object with \code{refit=TRUE}.
}
}
\seealso{
\code{\link[=ps_trim]{ps_trim()}}, \code{\link[=is_refit]{is_refit()}}, \code{\link[=is_trimmed]{is_trimmed()}}
}
